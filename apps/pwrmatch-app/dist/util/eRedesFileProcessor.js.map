{"version":3,"file":"eRedesFileProcessor.js","names":["sap","ui","define","Log","JSONModel","updateConsumptionChart","that","consTotals","_oConsumptionChart","oBundle","getOwnerComponent","getModel","getResourceBundle","consTotal","totalConsEmpty","totalConsFull","totalConsRush","emptyPct","toFixed","fullPct","rushPct","data","labels","getText","datasets","options","responsive","plugins","datalabels","color","font","weight","size","formatter","v","align","tooltip","callbacks","label","context","parsed","update","_filterByDate","oData","sDate","oCheckDate","Date","aFiltered","filter","oItem","oStart","startDate","oEnd","endDate","_createLeiturasModel","jsonData","oView","oParent","oModels","i18n","header","slice","map","row","index","readingsData","date","split","day","readingEmpty","readingFull","readingRush","readingsDataSorded","sort","a","b","sEndDate","oEndDate","oEndDateRow","push","sStartDate","oStartDate","oStartDateRow","readingsDataFiltered","tariffsData","tariffs","rows","forEach","item","arr","consEmpty","consFull","consRush","reduce","acc","readingsDataExpanded","flatMap","tariff","e","tariffSimple","priceSimple","tariffBiHourly","priceOutEmpty","priceEmpty","tariffTriHourly","priceRush","priceFull","readingsDataTotals","Object","values","key","id","tariffId","description","supplierName","name","totalSimple","totalBiHourly","totalTriHourly","readings","totals","enableExportToXLSXButton","showExportToXLSXButton","oParams","URLSearchParams","window","location","search","debugMode","get","console","log","parseEredesFile","Uint8Array","workbook","XLSX","read","type","firstSheetName","SheetNames","firstSheet","Sheets","utils","sheet_to_json","formattedData","oModel","info","err","error","message","exportToXLSX","nomeFicheiro","length","warn","wsLeituras","json_to_sheet","wsTotais","wb","book_new","book_append_sheet","writeFile"],"sources":["eRedesFileProcessor-dbg.js"],"mappings":"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","ignoreList":[]}